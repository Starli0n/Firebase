<html>
    <head>
        <script src='https://cdn.firebase.com/js/client/2.0.4/firebase.js'></script>
        <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
        <script src='params.js'></script>
    </head>
    <body>
        <script>
            // Create a callback which logs the current auth state
            function authDataCallback(authData)
            {
                if (authData)
                {
                    console.log("User " + authData.uid + " is logged in with " + authData.provider);
                } else
                {
                    console.log("User is logged out");
                }
            }

            var ref = new Firebase("https://watchlater.firebaseio.com");
            ref.onAuth(authDataCallback);
            ref.authWithCustomToken(params.token, function(error, authData) {
                if (error) {
                    console.log("Login Failed!", error);
                } else {
                    console.log("Login Succeeded!", authData);
                }
            });
        </script>
    </body>
</html>
